(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(6260)}])},1954:function(e,t,l){"use strict";var r=l(9734),s=l(9289);let a=()=>{let{data:e,error:t,isLoading:l,mutate:a}=(0,r.ZP)("/api/current",s.Z);return{data:e,error:t,isLoading:l,mutate:a}};t.Z=a},9289:function(e,t,l){"use strict";var r=l(6154);let s=e=>r.Z.get(e).then(e=>e.data);t.Z=s},6260:function(e,t,l){"use strict";l.r(t),l.d(t,{__N_SSP:function(){return z},default:function(){return C}});var r=l(5893),s=l(9734),a=l(9289);let i=()=>{let{data:e,error:t,isLoading:l}=(0,s.ZP)("/api/random",a.Z,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1});return{data:e,error:t,isLoading:l}};var n=l(7294),o=l(8193),c=l(3750),d=l(1163);let x=e=>{let{movieId:t}=e,l=(0,d.useRouter)();return(0,r.jsxs)("button",{onClick:()=>l.push("/watch/".concat(t)),className:"   bg-white   rounded-md   py-1 md:py-2   px-2 md:px-4   w-auto   text-xs lg:text-lg   font-semiboldbutton   flex   flex-row   items-center   hover:bg-neutral-300   transition   ",children:[(0,r.jsx)(c.mz0,{size:25,className:"mr-1"}),"Play"]})},u=()=>{let{data:e}=i();return(0,r.jsxs)("div",{className:"relative h-[56.25vw]",children:[(0,r.jsx)("video",{className:"   w-full   h-[56.25vw]   object-cover   brightness-[60%]   ",autoPlay:!0,muted:!0,loop:!0,poster:null==e?void 0:e.thumbnailUrl,src:null==e?void 0:e.videoUrl}),(0,r.jsxs)("div",{className:"absolute top-[30%] md:top-[40%] ml-4 md:ml-16",children:[(0,r.jsx)("p",{className:"text-white text-1xl md:text-5xl h-full  w-[50%] lg:text-6xl font-bold drop-shadow-xl",children:null==e?void 0:e.title}),(0,r.jsx)("p",{className:"text-white text-[8px] md:text-lg mt-3 md:mt-8 w-[90%] md:w-[80%] lg:w-[50%] drop-shadow-xl",children:null==e?void 0:e.description}),(0,r.jsxs)("div",{className:"flex flex-row items-center mt-3 md:mt-4 gap-3",children:[(0,r.jsx)(x,{movieId:null==e?void 0:e.id}),(0,r.jsxs)("button",{className:"   bg-white   text-white   bg-opacity-30    rounded-md    py-1 md:py-2    px-2 md:px-4   w-auto    text-xs lg:text-lg    font-semibold   flex   flex-row   items-center   hover:bg-opacity-20   transition   ",children:[(0,r.jsx)(o.ocf,{className:"mr-1"}),"More Info"]})]})]})]})};var m=l(6486),h=l(6154),v=l(1954);let p=()=>{let{data:e,error:t,isLoading:l,mutate:r}=(0,s.ZP)("/api/favorites",a.Z,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1});return{data:e,error:t,isLoading:l,mutate:r}},f=e=>{let{movieId:t}=e,{mutate:l}=p(),{data:s,mutate:a}=(0,v.Z)(),i=(0,n.useMemo)(()=>{let e=(null==s?void 0:s.favoriteIds)||[];return e.includes(t)},[s,t]),c=(0,n.useCallback)(async()=>{var e;let r;r=i?await h.Z.delete("/api/favorite",{data:{movieId:t}}):await h.Z.post("/api/favorite",{movieId:t});let n=null==r?void 0:null===(e=r.data)||void 0===e?void 0:e.favoriteIds;a({...s,favoriteIds:n}),l()},[t,i,s,a,l]),d=i?o.bzc:o.Lfi;return(0,r.jsx)("div",{onClick:c,className:"   cursor-pointer    group/item    w-6    h-6    lg:w-10    lg:h-10    border-white    border-2    rounded-full    flex    justify-center    items-center    transition    hover:border-neutral-300",children:(0,r.jsx)(d,{className:"text-white",size:25})})},w=e=>{let{data:t}=e,l=(0,d.useRouter)();return(0,r.jsxs)("div",{className:"group bg-zinc-900 col-span relative h-[12vw]",children:[(0,r.jsx)("img",{className:"   cursor-pointer   object-cover   transition   duration   shadow-xl   group-hover:opacity-90   sm:group-hover:opacity-0   delay-300   w-full   h-[12vw]   ",src:t.thumbnailUrl,alt:"Thumbnail"}),(0,r.jsxs)("div",{className:"   opacity-0   absolute   top-0    transition   duration-200   z-10   invisible   sm:visible   delay-300   w-full   scale-0   group-hover:scale-110   group-hover:-translate-y-[6vw]   group-hover:translate-x-[2vw]   group-hover:opacity-100   ",children:[(0,r.jsx)("img",{className:"   cursor-pointer   object-cover   transition   shadow-xl   rounded-t-md   w-full   h-[12vw]   ",src:t.thumbnailUrl,alt:"Thumbnail"}),(0,r.jsxs)("div",{className:"   z-10    bg-zinc-800   p-2   lg:p-4   absolute   w-full   transition   shadow-md   rounded-b-md   ",children:[(0,r.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[(0,r.jsx)("div",{className:"   cursor-pointer   w-6   h-6   lg:w-10   lg:h-10   bg-white   rounded-full   flex   justify-center   items-center   transition   hover:bg-neutral-300   ",onClick:()=>l.push("/watch/".concat(null==t?void 0:t.id)),children:(0,r.jsx)(c.mz0,{size:30})}),(0,r.jsx)(f,{movieId:null==t?void 0:t.id})]}),(0,r.jsxs)("p",{className:"text-green-400 font-semibold mt-4",children:["New ",(0,r.jsx)("span",{className:"text-white",children:"2023"})]}),(0,r.jsx)("div",{className:"flex flex-row mt-4 gap-2 items-center",children:(0,r.jsx)("p",{className:"text-white text-[10px] lg:text-sm",children:t.duration})}),(0,r.jsx)("div",{className:"flex flex-row mt-4 gap-2 items-center",children:(0,r.jsx)("p",{className:"text-white text-[10px] lg:text-sm",children:t.genre})})]})]})]})},g=e=>{let{data:t,title:l}=e;return(0,m.isEmpty)(t)?null:(0,r.jsx)("div",{className:"px-4 md:px-12 mt-4 space-y-8",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-white text-md md:text-xl lg:text-2xl font-semibold mb-4",children:l}),(0,r.jsx)("div",{className:"grid grid-cols-4 gap-2",children:t.map(e=>(0,r.jsx)(w,{data:e},e.id))})]})})},j=e=>{let{label:t}=e;return(0,r.jsx)("div",{className:"text-white cursor-pointer hover:text-gray-300 transition",children:t})},b=e=>{let{visible:t}=e;return t?(0,r.jsx)("div",{className:"bg-black w-56 absolute top-8 left-0 py-5 flex-col border-2 border-gray-800 flex",children:(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)("div",{className:"px-3 text-center text-white hover:underline",children:"Home"}),(0,r.jsx)("div",{className:"px-3 text-center text-white hover:underline",children:"Series"}),(0,r.jsx)("div",{className:"px-3 text-center text-white hover:underline",children:"Films"}),(0,r.jsx)("div",{className:"px-3 text-center text-white hover:underline",children:"New & Popular"}),(0,r.jsx)("div",{className:"px-3 text-center text-white hover:underline",children:"My List"}),(0,r.jsx)("div",{className:"px-3 text-center text-white hover:underline",children:"Browse by Languages"})]})}):null};var N=l(3299);let y=e=>{let{visible:t}=e,{data:l}=(0,v.Z)();return t?(0,r.jsxs)("div",{className:"bg-black w-56 absolute top-14 right-0 py-5 flex-col border-2 border-gray-800 flex",children:[(0,r.jsx)("div",{className:"flex flex-col gap-3",children:(0,r.jsxs)("div",{className:"px-3 group/item flex flex-row gap-3 items-center w-full",children:[(0,r.jsx)("img",{className:"w-8 rounded-md",src:"/images/default-blue.png",alt:""}),(0,r.jsx)("p",{className:"text-white text-sm group-hover/item:underline",children:null==l?void 0:l.name})]})}),(0,r.jsx)("hr",{className:"bg-gray-600 border-0 h-px my-4"}),(0,r.jsx)("div",{onClick:()=>(0,N.signOut)(),className:"px-3 text-center text-white text-sm hover:underline",children:"Sign out of Netflix"})]}):null},O=()=>{let[e,t]=(0,n.useState)(!1),[l,s]=(0,n.useState)(!1),[a,i]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=()=>{window.scrollY>=66?i(!0):i(!1)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]);let o=(0,n.useCallback)(()=>{t(e=>!e)},[]),d=(0,n.useCallback)(()=>{s(e=>!e)},[]);return(0,r.jsx)("nav",{className:"w-full fixed z-40",children:(0,r.jsxs)("div",{className:"\n        px-4\n        md:px-16\n        py-6\n        flex\n        flex-row\n        items-center\n        transition\n        duration-500\n        ".concat(a?"bg-zinc-900 bg-opacity-90":"","\n        "),children:[(0,r.jsx)("img",{className:"h-4 lg:h-7",src:"/images/logo.png",alt:"Logo"}),(0,r.jsxs)("div",{className:"   flex-row   ml-8   gap-7   hidden   lg:flex   ",children:[(0,r.jsx)(j,{label:"Home"}),(0,r.jsx)(j,{label:"Series"}),(0,r.jsx)(j,{label:"Films"}),(0,r.jsx)(j,{label:"New & Popular"}),(0,r.jsx)(j,{label:"My List"}),(0,r.jsx)(j,{label:"Browse by languages"})]}),(0,r.jsxs)("div",{onClick:o,className:"lg:hidden flex flex-row items-center gap-2 ml-8 cursor-pointer relative",children:[(0,r.jsx)("p",{className:"text-white text-sm",children:"Browse"}),(0,r.jsx)(c.IAR,{className:"text-white transition ".concat(e?"rotate-180":"rotate-0")}),(0,r.jsx)(b,{visible:e})]}),(0,r.jsxs)("div",{className:"flex flex-row ml-auto gap-7 items-center",children:[(0,r.jsx)("div",{className:"text-gray-200 hover:text-gray-300 cursor-pointer transition",children:(0,r.jsx)(c.dVI,{})}),(0,r.jsx)("div",{className:"text-gray-200 hover:text-gray-300 cursor-pointer transition",children:(0,r.jsx)(c.m32,{})}),(0,r.jsxs)("div",{onClick:d,className:"flex flex-row items-center gap-2 cursor-pointer relative",children:[(0,r.jsx)("div",{className:"w-6 h-6 lg:w-10 lg:h-10 rounded-md overflow-hidden",children:(0,r.jsx)("img",{src:"/images/default-blue.png",alt:""})}),(0,r.jsx)(c.IAR,{className:"text-white transition ".concat(l?"rotate-180":"rotate-0")}),(0,r.jsx)(y,{visible:l})]})]})]})})},k=()=>{let{data:e,error:t,isLoading:l}=(0,s.ZP)("/api/movies",a.Z,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1});return{data:e,error:t,isLoading:l}};var z=!0;function C(){let{data:e=[]}=k(),{data:t=[]}=p();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(O,{}),(0,r.jsx)(u,{}),(0,r.jsxs)("div",{className:"pb-40",children:[(0,r.jsx)(g,{title:"Trending Now",data:e}),(0,r.jsx)(g,{title:"My List",data:t})]})]})}},8357:function(e,t,l){"use strict";l.d(t,{w_:function(){return o}});var r=l(7294),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=r.createContext&&r.createContext(s),i=function(){return(i=Object.assign||function(e){for(var t,l=1,r=arguments.length;l<r;l++)for(var s in t=arguments[l])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},n=function(e,t){var l={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(l[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)0>t.indexOf(r[s])&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(l[r[s]]=e[r[s]]);return l};function o(e){return function(t){return r.createElement(c,i({attr:i({},e.attr)},t),function e(t){return t&&t.map(function(t,l){return r.createElement(t.tag,i({key:l},t.attr),e(t.child))})}(e.child))}}function c(e){var t=function(t){var l,s=e.attr,a=e.size,o=e.title,c=n(e,["attr","size","title"]),d=a||t.size||"1em";return t.className&&(l=t.className),e.className&&(l=(l?l+" ":"")+e.className),r.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,c,{className:l,style:i(i({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==a?r.createElement(a.Consumer,null,function(e){return t(e)}):t(s)}}},function(e){e.O(0,[617,13,662,154,585,299,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);